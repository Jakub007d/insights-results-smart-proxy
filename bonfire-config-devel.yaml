# Copyright 2021 Red Hat, Inc
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

     

# Bonfire deployment configuration
# Defines where to fetch the file that defines application configs

appsFile:
  host: gitlab
  repo: insights-platform/cicd-common
  path: bonfire_configs/ephemeral_apps.yaml

apps:
- name: ccx-data-pipeline
  components:
    - name: ccx-data-pipeline
      host: gitlab
      repo: ccx/ccx-data-pipeline
      path: deploy/clowdapp.yaml
      ref: master
      parameters:
        CLOWDER_ENABLED: "true"
        IMAGE_TAG: qa
    - name: insights-results-db
      host: github
      repo: RedHatInsights/insights-results-aggregator
      path: deploy/irdb_clowdapp.yaml
      ref: master
      parameters:
        CLOWDER_ENABLED: "true"
        IMAGE_TAG: qa
    - name: insights-results
      host: github
      repo: RedHatInsights/insights-results-aggregator
      path: deploy/clowdapp.yaml
      ref: master
      parameters:
        CLOWDER_ENABLED: "true"
        IMAGE_TAG: qa
    - name: ccx-smart-proxy
      host: github
      repo: <user>/insights-results-smart-proxy
      path: deploy/clowdapp.yaml
      ref: <branch>
      parameters:
        CLOWDER_ENABLED: "true"
        IMAGE_TAG: <image tag>
        IMAGE: quay.io/<user>/insights-results-smart-proxy
    - name: insights-content-service
      host: github
      repo: RedHatInsights/insights-content-service
      path: deploy/clowdapp.yaml
      ref: <branch>
      parameters:
        CLOWDER_ENABLED: "true"
        IMAGE_TAG: qa
